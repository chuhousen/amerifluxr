<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Site selection • amerifluxr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Site selection">
<meta property="og:description" content="amerifluxr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">amerifluxr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data_import.html">Data Import</a>
    </li>
    <li>
      <a href="../articles/site_selection.html">Site selection</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/chuhousen/amerifluxr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Site selection</h1>
                        <h4 data-toc-skip class="author">Housen Chu</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/chuhousen/amerifluxr/blob/HEAD/vignettes/site_selection.Rmd" class="external-link"><code>vignettes/site_selection.Rmd</code></a></small>
      <div class="hidden name"><code>site_selection.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/chuhousen/amerifluxr" class="external-link">amerifluxr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rapporter.github.io/pander/" class="external-link">pander</a></span><span class="op">)</span></span></code></pre></div>
<p>amerifluxr is a programmatic interface to the <a href="https://ameriflux.lbl.gov/" class="external-link">AmeriFlux</a>. This vignette
demonstrates examples to query a list of target sites based on sites’
general information and availability of metadata and data. A companion
vignette for <a href="data_import.html">Data import</a> is available as
well.</p>
<div class="section level2">
<h2 id="get-a-site-list-with-general-info">Get a site list with general info<a class="anchor" aria-label="anchor" href="#get-a-site-list-with-general-info"></a>
</h2>
<p>AmeriFlux data are organized by individual sites. Typically, data
query begins with site search and selection. A full list of AmeriFlux
sites with general info can be obtained using the amf_site_info()
function.</p>
<p>Convert the site list to a data.table for easier manipulation. Also
see <a href="https://ameriflux.lbl.gov/data/badm/badm-standards/" class="external-link">link</a> for
variable definition.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get a full list of sites with general info</span></span>
<span><span class="va">sites</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_site_info.html">amf_site_info</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">sites_dt</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">sites</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">sites_dt</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="13%">
<col width="39%">
<col width="16%">
<col width="20%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">SITE_NAME</th>
<th align="center">COUNTRY</th>
<th align="center">STATE</th>
<th align="center">IGBP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">AR-CCa</td>
<td align="center">Carlos Casares agriculture</td>
<td align="center">Argentina</td>
<td align="center">Buenos Aires</td>
<td align="center">CRO</td>
</tr>
<tr class="even">
<td align="center">AR-CCg</td>
<td align="center">Carlos Casares grassland</td>
<td align="center">Argentina</td>
<td align="center">Buenos Aires</td>
<td align="center">GRA</td>
</tr>
<tr class="odd">
<td align="center">AR-Cel</td>
<td align="center">CELPA Mar Chiquita BA</td>
<td align="center">Argentina</td>
<td align="center">Buenos Aires</td>
<td align="center">WET</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="18%">
<col width="65%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="center">TOWER_BEGAN</th>
<th align="center">URL_AMERIFLUX</th>
<th align="center">TOWER_END</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2012</td>
<td align="center"><a href="https://ameriflux.lbl.gov/sites/siteinfo/AR-CCa" class="external-link uri">https://ameriflux.lbl.gov/sites/siteinfo/AR-CCa</a></td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">2018</td>
<td align="center"><a href="https://ameriflux.lbl.gov/sites/siteinfo/AR-CCg" class="external-link uri">https://ameriflux.lbl.gov/sites/siteinfo/AR-CCg</a></td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">2018</td>
<td align="center"><a href="https://ameriflux.lbl.gov/sites/siteinfo/AR-Cel" class="external-link uri">https://ameriflux.lbl.gov/sites/siteinfo/AR-Cel</a></td>
<td align="center">2018</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="18%">
<col width="20%">
<col width="20%">
<col width="22%">
<col width="8%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="center">LOCATION_LAT</th>
<th align="center">LOCATION_LONG</th>
<th align="center">LOCATION_ELEV</th>
<th align="center">CLIMATE_KOEPPEN</th>
<th align="center">MAT</th>
<th align="center">MAP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">-35.62</td>
<td align="center">-61.32</td>
<td align="center">83</td>
<td align="center">Cfa</td>
<td align="center">16.1</td>
<td align="center">1060</td>
</tr>
<tr class="even">
<td align="center">-35.92</td>
<td align="center">-61.19</td>
<td align="center">84</td>
<td align="center">Cfa</td>
<td align="center">16.1</td>
<td align="center">1060</td>
</tr>
<tr class="odd">
<td align="center">-37.7</td>
<td align="center">-57.42</td>
<td align="center">1</td>
<td align="center">Cfb</td>
<td align="center">14</td>
<td align="center">926</td>
</tr>
</tbody>
</table>
<table style="width:56%;" class="table">
<colgroup>
<col width="19%">
<col width="18%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">DATA_POLICY</th>
<th align="center">DATA_START</th>
<th align="center">DATA_END</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">LEGACY</td>
<td align="center">2012</td>
<td align="center">2020</td>
</tr>
<tr class="even">
<td align="center">LEGACY</td>
<td align="center">2018</td>
<td align="center">2020</td>
</tr>
<tr class="odd">
<td align="center">LEGACY</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
<p>The site list provides a quick summary of all registered sites and
sites with available data.</p>
<p>It’s often important to understand the data use policy under which
the data are shared. In 2021, the AmeriFlux community moved to the
AmeriFlux CC-BY-4.0 License. Most site PIs now share their sites’ data
under the CC-BY-4.0 license. Data for some sites are shared under the
historical AmeriFlux data-sharing policy, now called the AmeriFlux
Legacy Data Policy.</p>
<p>Check <a href="https://ameriflux.lbl.gov/data/data-policy/#data-use" class="external-link">link</a> for
data use policy and attribution guidelines.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># total number of registered sites</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">sites_dt</span><span class="op">[</span>, <span class="va">.N</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:8%;" class="table">
<colgroup><col width="8%"></colgroup>
<tbody><tr class="odd">
<td align="center">634</td>
</tr></tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># total number of sites with available data</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">sites_dt</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DATA_START</span><span class="op">)</span>, <span class="va">.N</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:8%;" class="table">
<colgroup><col width="8%"></colgroup>
<tbody><tr class="odd">
<td align="center">469</td>
</tr></tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># get number of sites with available data, grouped by data use policy</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">sites_dt</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DATA_START</span><span class="op">)</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">DATA_POLICY</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:28%;" class="table">
<colgroup>
<col width="19%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="center">DATA_POLICY</th>
<th align="center">N</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">LEGACY</td>
<td align="center">92</td>
</tr>
<tr class="even">
<td align="center">CCBY4.0</td>
<td align="center">377</td>
</tr>
</tbody>
</table>
<p>Further group sites based on <a href="https://ameriflux.lbl.gov/data/badm/badm-standards/IGBP" class="external-link">IGBP</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get a summary table of sites grouped by IGBP</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">sites_dt</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="st">"IGBP"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:19%;" class="table">
<colgroup>
<col width="9%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="center">IGBP</th>
<th align="center">N</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">CRO</td>
<td align="center">129</td>
</tr>
<tr class="even">
<td align="center">GRA</td>
<td align="center">85</td>
</tr>
<tr class="odd">
<td align="center">WET</td>
<td align="center">114</td>
</tr>
<tr class="even">
<td align="center">DNF</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">EBF</td>
<td align="center">12</td>
</tr>
<tr class="even">
<td align="center">WSA</td>
<td align="center">12</td>
</tr>
<tr class="odd">
<td align="center">MF</td>
<td align="center">16</td>
</tr>
<tr class="even">
<td align="center">ENF</td>
<td align="center">101</td>
</tr>
<tr class="odd">
<td align="center">DBF</td>
<td align="center">59</td>
</tr>
<tr class="even">
<td align="center">OSH</td>
<td align="center">40</td>
</tr>
<tr class="odd">
<td align="center">WAT</td>
<td align="center">10</td>
</tr>
<tr class="even">
<td align="center">CSH</td>
<td align="center">13</td>
</tr>
<tr class="odd">
<td align="center">URB</td>
<td align="center">15</td>
</tr>
<tr class="even">
<td align="center">BSV</td>
<td align="center">7</td>
</tr>
<tr class="odd">
<td align="center">CVM</td>
<td align="center">11</td>
</tr>
<tr class="even">
<td align="center">SAV</td>
<td align="center">8</td>
</tr>
<tr class="odd">
<td align="center">SNO</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># get a summary table of sites with available data, &amp; grouped by IGBP</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">sites_dt</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DATA_START</span><span class="op">)</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="st">"IGBP"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:19%;" class="table">
<colgroup>
<col width="9%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="center">IGBP</th>
<th align="center">N</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">CRO</td>
<td align="center">85</td>
</tr>
<tr class="even">
<td align="center">GRA</td>
<td align="center">67</td>
</tr>
<tr class="odd">
<td align="center">WET</td>
<td align="center">61</td>
</tr>
<tr class="even">
<td align="center">DNF</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">WSA</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">EBF</td>
<td align="center">8</td>
</tr>
<tr class="odd">
<td align="center">ENF</td>
<td align="center">94</td>
</tr>
<tr class="even">
<td align="center">DBF</td>
<td align="center">55</td>
</tr>
<tr class="odd">
<td align="center">MF</td>
<td align="center">12</td>
</tr>
<tr class="even">
<td align="center">OSH</td>
<td align="center">32</td>
</tr>
<tr class="odd">
<td align="center">CSH</td>
<td align="center">11</td>
</tr>
<tr class="even">
<td align="center">BSV</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">WAT</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">CVM</td>
<td align="center">8</td>
</tr>
<tr class="odd">
<td align="center">URB</td>
<td align="center">7</td>
</tr>
<tr class="even">
<td align="center">SAV</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">SNO</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># get a summary table of sites with available data, </span></span>
<span><span class="co">#  &amp; grouped by data use policy &amp; IGBP</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">sites_dt</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DATA_START</span><span class="op">)</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">IGBP</span>, <span class="va">DATA_POLICY</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">IGBP</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:36%;" class="table">
<colgroup>
<col width="9%">
<col width="19%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="center">IGBP</th>
<th align="center">DATA_POLICY</th>
<th align="center">N</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">BSV</td>
<td align="center">CCBY4.0</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">BSV</td>
<td align="center">LEGACY</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">CRO</td>
<td align="center">LEGACY</td>
<td align="center">15</td>
</tr>
<tr class="even">
<td align="center">CRO</td>
<td align="center">CCBY4.0</td>
<td align="center">70</td>
</tr>
<tr class="odd">
<td align="center">CSH</td>
<td align="center">LEGACY</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">CSH</td>
<td align="center">CCBY4.0</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">CVM</td>
<td align="center">CCBY4.0</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">DBF</td>
<td align="center">CCBY4.0</td>
<td align="center">49</td>
</tr>
<tr class="odd">
<td align="center">DBF</td>
<td align="center">LEGACY</td>
<td align="center">6</td>
</tr>
<tr class="even">
<td align="center">DNF</td>
<td align="center">CCBY4.0</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">EBF</td>
<td align="center">CCBY4.0</td>
<td align="center">6</td>
</tr>
<tr class="even">
<td align="center">EBF</td>
<td align="center">LEGACY</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">ENF</td>
<td align="center">CCBY4.0</td>
<td align="center">78</td>
</tr>
<tr class="even">
<td align="center">ENF</td>
<td align="center">LEGACY</td>
<td align="center">16</td>
</tr>
<tr class="odd">
<td align="center">GRA</td>
<td align="center">LEGACY</td>
<td align="center">14</td>
</tr>
<tr class="even">
<td align="center">GRA</td>
<td align="center">CCBY4.0</td>
<td align="center">53</td>
</tr>
<tr class="odd">
<td align="center">MF</td>
<td align="center">CCBY4.0</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">MF</td>
<td align="center">LEGACY</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">OSH</td>
<td align="center">CCBY4.0</td>
<td align="center">25</td>
</tr>
<tr class="even">
<td align="center">OSH</td>
<td align="center">LEGACY</td>
<td align="center">7</td>
</tr>
<tr class="odd">
<td align="center">SAV</td>
<td align="center">CCBY4.0</td>
<td align="center">6</td>
</tr>
<tr class="even">
<td align="center">SNO</td>
<td align="center">CCBY4.0</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">URB</td>
<td align="center">CCBY4.0</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">URB</td>
<td align="center">LEGACY</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">WAT</td>
<td align="center">CCBY4.0</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">WET</td>
<td align="center">CCBY4.0</td>
<td align="center">44</td>
</tr>
<tr class="odd">
<td align="center">WET</td>
<td align="center">LEGACY</td>
<td align="center">17</td>
</tr>
<tr class="even">
<td align="center">WSA</td>
<td align="center">CCBY4.0</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">WSA</td>
<td align="center">LEGACY</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<p>Once decided, users can query a target site list based on the desired
criteria, e.g., IGBP, data availability, data policy, geolocation.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># get a list of cropland and grassland sites with available data,</span></span>
<span><span class="co">#  shared under CC-BY-4.0 data policy,</span></span>
<span><span class="co">#  located within 30-50 degree N in latitude,</span></span>
<span><span class="co"># returned a site list with site ID, name, data starting/ending year</span></span>
<span><span class="va">crop_ls</span> <span class="op">&lt;-</span> <span class="va">sites_dt</span><span class="op">[</span><span class="va">IGBP</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CRO"</span>, <span class="st">"GRA"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>                      <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DATA_START</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>                      <span class="va">LOCATION_LAT</span> <span class="op">&gt;</span> <span class="fl">30</span> <span class="op">&amp;</span></span>
<span>                      <span class="va">LOCATION_LAT</span> <span class="op">&lt;</span> <span class="fl">50</span> <span class="op">&amp;</span></span>
<span>                      <span class="va">DATA_POLICY</span> <span class="op">==</span> <span class="st">"CCBY4.0"</span>,</span>
<span>                    <span class="fu">.</span><span class="op">(</span><span class="va">SITE_ID</span>, <span class="va">SITE_NAME</span>, <span class="va">DATA_START</span>, <span class="va">DATA_END</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">crop_ls</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:96%;" class="table">
<colgroup>
<col width="13%">
<col width="45%">
<col width="18%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">SITE_NAME</th>
<th align="center">DATA_START</th>
<th align="center">DATA_END</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">CA-ER1</td>
<td align="center">Elora Research Station</td>
<td align="center">2015</td>
<td align="center">2021</td>
</tr>
<tr class="even">
<td align="center">US-A32</td>
<td align="center">ARM-SGP Medford hay pasture</td>
<td align="center">2015</td>
<td align="center">2017</td>
</tr>
<tr class="odd">
<td align="center">US-A74</td>
<td align="center">ARM SGP milo field</td>
<td align="center">2015</td>
<td align="center">2017</td>
</tr>
<tr class="even">
<td align="center">US-AR1</td>
<td align="center">ARM USDA UNL OSU Woodward Switchgrass 1</td>
<td align="center">2009</td>
<td align="center">2012</td>
</tr>
<tr class="odd">
<td align="center">US-AR2</td>
<td align="center">ARM USDA UNL OSU Woodward Switchgrass 2</td>
<td align="center">2009</td>
<td align="center">2012</td>
</tr>
<tr class="even">
<td align="center">US-ARb</td>
<td align="center">ARM Southern Great Plains burn site- Lamont</td>
<td align="center">2005</td>
<td align="center">2006</td>
</tr>
<tr class="odd">
<td align="center">US-ARc</td>
<td align="center">ARM Southern Great Plains control site- Lamont</td>
<td align="center">2005</td>
<td align="center">2006</td>
</tr>
<tr class="even">
<td align="center">US-ARM</td>
<td align="center">ARM Southern Great Plains site- Lamont</td>
<td align="center">2003</td>
<td align="center">2023</td>
</tr>
<tr class="odd">
<td align="center">US-Bi1</td>
<td align="center">Bouldin Island Alfalfa</td>
<td align="center">2016</td>
<td align="center">2023</td>
</tr>
<tr class="even">
<td align="center">US-Bi2</td>
<td align="center">Bouldin Island corn</td>
<td align="center">2017</td>
<td align="center">2023</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="get-metadata-availability">Get metadata availability<a class="anchor" aria-label="anchor" href="#get-metadata-availability"></a>
</h2>
<p>In some cases, users may want to know if certain types of metadata
are available for the selected sites. The amf_list_metadata() function
provides a quick summary of metadata availability before actually
downloading the data and metadata.</p>
<p>By default, amf_list_metadata() returns a full site list with the
available entries (i.e., counts) for all BADM groups. Check <a href="https://ameriflux.lbl.gov/data/badm/badm-basics/" class="external-link">AmeriFlux
webpage</a> for definitions of all BADM groups.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get data availability for selected sites</span></span>
<span><span class="va">metadata_aval</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="fu"><a href="../reference/amf_list_metadata.html">amf_list_metadata</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">metadata_aval</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:99%;" class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="13%">
<col width="30%">
<col width="20%">
<col width="19%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">GRP_ACKNOWLEDGEMENT</th>
<th align="center">GRP_CLIM_AVG</th>
<th align="center">GRP_COUNTRY</th>
<th align="center">GRP_DOI</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">AR-CCa</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">AR-CCg</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">AR-Cel</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
<table style="width:90%;" class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="30%">
<col width="31%">
<col width="27%">
</colgroup>
<thead><tr class="header">
<th align="center">GRP_DOI_CONTRIBUTOR</th>
<th align="center">GRP_DOI_ORGANIZATION</th>
<th align="center">GRP_DOM_DIST_MGMT</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">2</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">1</td>
<td align="center">2</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<table style="width:51%;" class="table">
<colgroup>
<col width="33%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">GRP_FLUX_MEASUREMENTS</th>
<th align="center">GRP_HEADER</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>The site_set parameter of the amf_list_metadata() can be used to
subset the sites of interest.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata_aval_sub</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="fu"><a href="../reference/amf_list_metadata.html">amf_list_metadata</a></span><span class="op">(</span>site_set <span class="op">=</span> <span class="va">crop_ls</span><span class="op">$</span><span class="va">SITE_ID</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># down-select cropland &amp; grassland sites by interested BADM group,</span></span>
<span><span class="co">#  e.g., canopy height (GRP_HEIGHTC)</span></span>
<span><span class="va">crop_ls2</span> <span class="op">&lt;-</span> <span class="va">metadata_aval_sub</span><span class="op">[</span><span class="va">GRP_HEIGHTC</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="fu">.</span><span class="op">(</span><span class="va">SITE_ID</span>, <span class="va">GRP_HEIGHTC</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">GRP_HEIGHTC</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">crop_ls2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:33%;" class="table">
<colgroup>
<col width="13%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">GRP_HEIGHTC</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">US-Ne2</td>
<td align="center">196</td>
</tr>
<tr class="even">
<td align="center">US-Tw3</td>
<td align="center">162</td>
</tr>
<tr class="odd">
<td align="center">US-Twt</td>
<td align="center">133</td>
</tr>
<tr class="even">
<td align="center">US-Ne3</td>
<td align="center">128</td>
</tr>
<tr class="odd">
<td align="center">US-Ne1</td>
<td align="center">119</td>
</tr>
<tr class="even">
<td align="center">US-Bi1</td>
<td align="center">112</td>
</tr>
<tr class="odd">
<td align="center">US-Var</td>
<td align="center">105</td>
</tr>
<tr class="even">
<td align="center">US-Snd</td>
<td align="center">70</td>
</tr>
<tr class="odd">
<td align="center">US-Bi2</td>
<td align="center">54</td>
</tr>
<tr class="even">
<td align="center">US-ARM</td>
<td align="center">45</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="get-data-availability">Get data availability<a class="anchor" aria-label="anchor" href="#get-data-availability"></a>
</h2>
<p>Users can use amf_list_data() to query the availability of specific
variables in the data (i.e., flux/met data, so-called BASE data
product). The amf_list_data() provides a quick summary of variable
availability (per site/year) before downloading the data.</p>
<p>By default, amf_list_data() returns a full site list of variable
availability (data percentages per year) for all variables. The site_set
parameter of amf_list_data() can be used to subset the sites of
interest.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get data availability for selected sites</span></span>
<span><span class="va">data_aval</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="fu"><a href="../reference/amf_list_data.html">amf_list_data</a></span><span class="op">(</span>site_set <span class="op">=</span> <span class="va">crop_ls2</span><span class="op">$</span><span class="va">SITE_ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">data_aval</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="12%">
<col width="14%">
<col width="14%">
<col width="16%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">VARIABLE</th>
<th align="center">BASENAME</th>
<th align="center">GAP_FILLED</th>
<th align="center">Y1990</th>
<th align="center">Y1991</th>
<th align="center">Y1992</th>
<th align="center">Y1993</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">US-AR1</td>
<td align="center">CO2</td>
<td align="center">CO2</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">US-AR1</td>
<td align="center">FC</td>
<td align="center">FC</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">US-AR1</td>
<td align="center">G</td>
<td align="center">G</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">US-AR1</td>
<td align="center">H</td>
<td align="center">H</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">US-AR1</td>
<td align="center">H2O</td>
<td align="center">H2O</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">US-AR1</td>
<td align="center">LE</td>
<td align="center">LE</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">US-AR1</td>
<td align="center">LW_IN</td>
<td align="center">LW_IN</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">US-AR1</td>
<td align="center">LW_OUT</td>
<td align="center">LW_OUT</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">US-AR1</td>
<td align="center">NETRAD</td>
<td align="center">NETRAD</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">US-AR1</td>
<td align="center">P</td>
<td align="center">P</td>
<td align="center">FALSE</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
<table style="width:100%;" class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="center">Y1994</th>
<th align="center">Y1995</th>
<th align="center">Y1996</th>
<th align="center">Y1997</th>
<th align="center">Y1998</th>
<th align="center">Y1999</th>
<th align="center">Y2000</th>
<th align="center">Y2001</th>
<th align="center">Y2002</th>
<th align="center">Y2003</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="center">Y2004</th>
<th align="center">Y2005</th>
<th align="center">Y2006</th>
<th align="center">Y2007</th>
<th align="center">Y2008</th>
<th align="center">Y2009</th>
<th align="center">Y2010</th>
<th align="center">Y2011</th>
<th align="center">Y2012</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.5905</td>
<td align="center">0.9866</td>
<td align="center">0.9941</td>
<td align="center">0.6654</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6082</td>
<td align="center">0.976</td>
<td align="center">0.9886</td>
<td align="center">0.6621</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6421</td>
<td align="center">0.9965</td>
<td align="center">0.9999</td>
<td align="center">0.9961</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6123</td>
<td align="center">0.9867</td>
<td align="center">0.9938</td>
<td align="center">0.6666</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6092</td>
<td align="center">0.971</td>
<td align="center">0.9792</td>
<td align="center">0.6633</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6101</td>
<td align="center">0.9816</td>
<td align="center">0.9936</td>
<td align="center">0.6647</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6416</td>
<td align="center">0.9965</td>
<td align="center">0.9999</td>
<td align="center">0.9961</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6416</td>
<td align="center">0.9965</td>
<td align="center">0.9999</td>
<td align="center">0.9961</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.5447</td>
<td align="center">0.9964</td>
<td align="center">0.9996</td>
<td align="center">0.996</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6422</td>
<td align="center">0.9965</td>
<td align="center">0.9999</td>
<td align="center">0.9961</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="center">Y2013</th>
<th align="center">Y2014</th>
<th align="center">Y2015</th>
<th align="center">Y2016</th>
<th align="center">Y2017</th>
<th align="center">Y2018</th>
<th align="center">Y2019</th>
<th align="center">Y2020</th>
<th align="center">Y2021</th>
<th align="center">Y2022</th>
<th align="center">Y2023</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
<p>The variable availability can be used to subset sites that have
certain variables in specific years. The BASENAME column indicates the
variable’s base name (i.e., ignoring position qualifier), and can be
used to get a coarse-level variable availability.</p>
<p>See <a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/" class="external-link">AmeriFlux
website</a> for definitions of base names and qualifiers.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># down-select cropland &amp; grassland sites based on the available wind speed (WS) and </span></span>
<span><span class="co"># friction velocity (USTAR) data in 2015-2018, regardless their qualifiers</span></span>
<span><span class="va">data_aval_sub</span> <span class="op">&lt;-</span> <span class="va">data_aval</span><span class="op">[</span><span class="va">data_aval</span><span class="op">$</span><span class="va">BASENAME</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WS"</span>,<span class="st">"USTAR"</span><span class="op">)</span>,</span>
<span>                           <span class="fu">.</span><span class="op">(</span><span class="va">SITE_ID</span>, <span class="va">BASENAME</span>, <span class="va">Y2015</span>, <span class="va">Y2016</span>, <span class="va">Y2017</span>, <span class="va">Y2018</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># calculate mean availability of WS and USTAR in each site and each year</span></span>
<span><span class="va">data_aval_sub</span> <span class="op">&lt;-</span> <span class="va">data_aval_sub</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">.SD</span>, <span class="va">mean</span><span class="op">)</span>, </span>
<span>                               by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">SITE_ID</span><span class="op">)</span>,</span>
<span>                               .SDcols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y2015"</span>, <span class="st">"Y2016"</span>, <span class="st">"Y2017"</span>, <span class="st">"Y2018"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># sub-select sites that have WS and USTAR data for &gt; 75%</span></span>
<span><span class="co">#  during 2015-2018</span></span>
<span><span class="va">crop_ls3</span> <span class="op">&lt;-</span> <span class="va">data_aval_sub</span><span class="op">[</span><span class="op">(</span><span class="va">Y2015</span> <span class="op">+</span> <span class="va">Y2016</span> <span class="op">+</span> <span class="va">Y2017</span> <span class="op">+</span> <span class="va">Y2018</span><span class="op">)</span> <span class="op">/</span> <span class="fl">4</span> <span class="op">&gt;</span> <span class="fl">0.75</span><span class="op">]</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">crop_ls3</span><span class="op">)</span></span></code></pre></div>
<table style="width:64%;" class="table">
<colgroup>
<col width="13%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">Y2015</th>
<th align="center">Y2016</th>
<th align="center">Y2017</th>
<th align="center">Y2018</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">US-ARM</td>
<td align="center">0.5772</td>
<td align="center">0.9871</td>
<td align="center">0.9683</td>
<td align="center">0.9826</td>
</tr>
<tr class="even">
<td align="center">US-Ne1</td>
<td align="center">0.77</td>
<td align="center">0.7861</td>
<td align="center">0.756</td>
<td align="center">0.7167</td>
</tr>
<tr class="odd">
<td align="center">US-Ne2</td>
<td align="center">0.7636</td>
<td align="center">0.7878</td>
<td align="center">0.7594</td>
<td align="center">0.7442</td>
</tr>
<tr class="even">
<td align="center">US-SRG</td>
<td align="center">0.9669</td>
<td align="center">0.9851</td>
<td align="center">0.9775</td>
<td align="center">0.9997</td>
</tr>
<tr class="odd">
<td align="center">US-Tw3</td>
<td align="center">0.9689</td>
<td align="center">0.9569</td>
<td align="center">0.9763</td>
<td align="center">0.4005</td>
</tr>
<tr class="even">
<td align="center">US-Var</td>
<td align="center">0.9983</td>
<td align="center">1</td>
<td align="center">0.9455</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">US-Wkg</td>
<td align="center">0.9973</td>
<td align="center">0.9909</td>
<td align="center">0.9965</td>
<td align="center">0.9848</td>
</tr>
</tbody>
</table>
<p>Last, sometimes users would look for sites with multiple measurements
of similar variables (e.g., multilevel wind speed, soil temperature).
The VARIABLE column in the variable availability can be used to get a
fine-level variable availability.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># down-select cropland &amp; grassland sites by available wind speed (WS) data,</span></span>
<span><span class="co">#  mean availability of WS during 2015-2018</span></span>
<span><span class="va">data_aval_sub2</span> <span class="op">&lt;-</span> <span class="va">data_aval</span><span class="op">[</span><span class="va">data_aval</span><span class="op">$</span><span class="va">BASENAME</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WS"</span><span class="op">)</span>,</span>
<span>                            <span class="fu">.</span><span class="op">(</span><span class="va">SITE_ID</span>, <span class="va">VARIABLE</span>, Y2015_2018 <span class="op">=</span> <span class="op">(</span><span class="va">Y2015</span> <span class="op">+</span> <span class="va">Y2016</span> <span class="op">+</span> <span class="va">Y2017</span> <span class="op">+</span> <span class="va">Y2018</span><span class="op">)</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># calculate number of WS variables per site, for sites that </span></span>
<span><span class="co">#  have any WS data during 2015-2018</span></span>
<span><span class="va">data_aval_sub2</span> <span class="op">&lt;-</span> <span class="va">data_aval_sub2</span><span class="op">[</span><span class="va">Y2015_2018</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="fu">.</span><span class="op">(</span><span class="va">.N</span>, Y2015_2018 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Y2015_2018</span><span class="op">)</span><span class="op">)</span>, <span class="fu">.</span><span class="op">(</span><span class="va">SITE_ID</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">crop_ls4</span> <span class="op">&lt;-</span> <span class="va">data_aval_sub2</span><span class="op">[</span><span class="va">N</span> <span class="op">&gt;</span> <span class="fl">1</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:38%;" class="table">
<colgroup>
<col width="13%">
<col width="5%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">N</th>
<th align="center">Y2015_2018</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">US-ARM</td>
<td align="center">3</td>
<td align="center">0.8766</td>
</tr>
<tr class="even">
<td align="center">US-Ne1</td>
<td align="center">4</td>
<td align="center">0.7027</td>
</tr>
<tr class="odd">
<td align="center">US-Ne2</td>
<td align="center">4</td>
<td align="center">0.709</td>
</tr>
<tr class="even">
<td align="center">US-Ne3</td>
<td align="center">4</td>
<td align="center">0.7287</td>
</tr>
<tr class="odd">
<td align="center">US-Wkg</td>
<td align="center">2</td>
<td align="center">0.9942</td>
</tr>
</tbody>
</table>
<p>A companion function amf_plot_datayear() can be used for visualizing
the data availability in an interactive figure. However, it is strongly
advised to subset the sites, variables, and/or years for faster
processing and better visualization.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#### not evaluated so to reduce vignette size</span></span>
<span><span class="co"># plot data availability for WS &amp; USTAR</span></span>
<span><span class="co">#  for selected sites in 2015-2018</span></span>
<span><span class="fu"><a href="../reference/amf_plot_datayear.html">amf_plot_datayear</a></span><span class="op">(</span></span>
<span>  site_set <span class="op">=</span> <span class="va">crop_ls4</span><span class="op">$</span><span class="va">SITE_ID</span>,</span>
<span>  var_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WS"</span>, <span class="st">"USTAR"</span><span class="op">)</span>,</span>
<span>  nonfilled_only <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  year_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span><span class="op">:</span><span class="fl">2018</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-data-summary">Get data summary<a class="anchor" aria-label="anchor" href="#get-data-summary"></a>
</h2>
<p>In addition, users can use amf_summarize_data() to query the summary
statistics of specific variables in the BASE data. The
amf_summarize_data() provides summary statistics for each variable
(e.g., percentiles) before downloading the data.</p>
<p>By default, amf_summarize_data() returns variable summary (selected
percentiles) for all variables and sites. The site_set and var_set
parameters can be used to subset the sites or variables of interest.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## get data summary for selected sites &amp; variables</span></span>
<span><span class="va">data_sum</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_summarize_data.html">amf_summarize_data</a></span><span class="op">(</span>site_set <span class="op">=</span> <span class="va">crop_ls3</span><span class="op">$</span><span class="va">SITE_ID</span>,</span>
<span>                     var_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WS"</span>, <span class="st">"USTAR"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html" class="external-link">pandoc.table</a></span><span class="op">(</span><span class="va">data_sum</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="16%">
<col width="13%">
<col width="18%">
<col width="14%">
<col width="17%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">SITE_ID</th>
<th align="center">VARIABLE</th>
<th align="center">BASENAME</th>
<th align="center">GAP_FILLED</th>
<th align="center">DATA_RECORD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>4165</strong></td>
<td align="center">US-ARM</td>
<td align="center">WS_1_1_1</td>
<td align="center">WS</td>
<td align="center">FALSE</td>
<td align="center">353556</td>
</tr>
<tr class="even">
<td align="center"><strong>4168</strong></td>
<td align="center">US-ARM</td>
<td align="center">USTAR_1_1_1</td>
<td align="center">USTAR</td>
<td align="center">FALSE</td>
<td align="center">353556</td>
</tr>
<tr class="odd">
<td align="center"><strong>4221</strong></td>
<td align="center">US-ARM</td>
<td align="center">WS_1_2_1</td>
<td align="center">WS</td>
<td align="center">FALSE</td>
<td align="center">353556</td>
</tr>
<tr class="even">
<td align="center"><strong>4224</strong></td>
<td align="center">US-ARM</td>
<td align="center">USTAR_1_2_1</td>
<td align="center">USTAR</td>
<td align="center">FALSE</td>
<td align="center">353556</td>
</tr>
<tr class="odd">
<td align="center"><strong>4248</strong></td>
<td align="center">US-ARM</td>
<td align="center">WS_1_3_1</td>
<td align="center">WS</td>
<td align="center">FALSE</td>
<td align="center">353556</td>
</tr>
<tr class="even">
<td align="center"><strong>4251</strong></td>
<td align="center">US-ARM</td>
<td align="center">USTAR_1_3_1</td>
<td align="center">USTAR</td>
<td align="center">FALSE</td>
<td align="center">353556</td>
</tr>
<tr class="odd">
<td align="center"><strong>10404</strong></td>
<td align="center">US-Ne1</td>
<td align="center">USTAR_1_1_1</td>
<td align="center">USTAR</td>
<td align="center">FALSE</td>
<td align="center">175320</td>
</tr>
<tr class="even">
<td align="center"><strong>10476</strong></td>
<td align="center">US-Ne1</td>
<td align="center">WS_1_1_1</td>
<td align="center">WS</td>
<td align="center">FALSE</td>
<td align="center">175320</td>
</tr>
<tr class="odd">
<td align="center"><strong>10477</strong></td>
<td align="center">US-Ne1</td>
<td align="center">WS_1_2_1</td>
<td align="center">WS</td>
<td align="center">FALSE</td>
<td align="center">175320</td>
</tr>
<tr class="even">
<td align="center"><strong>10478</strong></td>
<td align="center">US-Ne1</td>
<td align="center">WS_1_3_1</td>
<td align="center">WS</td>
<td align="center">FALSE</td>
<td align="center">175320</td>
</tr>
</tbody>
</table>
<table style="width:100%;" class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="16%">
<col width="20%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">DATA_MISSING</th>
<th align="center">Q01</th>
<th align="center">Q05</th>
<th align="center">Q10</th>
<th align="center">Q15</th>
<th align="center">Q20</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>4165</strong></td>
<td align="center">23542</td>
<td align="center">0.5092</td>
<td align="center">1.06</td>
<td align="center">1.444</td>
<td align="center">1.749</td>
<td align="center">2.021</td>
</tr>
<tr class="even">
<td align="center"><strong>4168</strong></td>
<td align="center">23086</td>
<td align="center">0.02901</td>
<td align="center">0.05339</td>
<td align="center">0.07707</td>
<td align="center">0.1014</td>
<td align="center">0.1271</td>
</tr>
<tr class="odd">
<td align="center"><strong>4221</strong></td>
<td align="center">32209</td>
<td align="center">0.8247</td>
<td align="center">1.725</td>
<td align="center">2.389</td>
<td align="center">2.894</td>
<td align="center">3.331</td>
</tr>
<tr class="even">
<td align="center"><strong>4224</strong></td>
<td align="center">31081</td>
<td align="center">0.03152</td>
<td align="center">0.05623</td>
<td align="center">0.07908</td>
<td align="center">0.1017</td>
<td align="center">0.1259</td>
</tr>
<tr class="odd">
<td align="center"><strong>4248</strong></td>
<td align="center">51797</td>
<td align="center">0.988</td>
<td align="center">2.126</td>
<td align="center">3.002</td>
<td align="center">3.689</td>
<td align="center">4.278</td>
</tr>
<tr class="even">
<td align="center"><strong>4251</strong></td>
<td align="center">45785</td>
<td align="center">0.03332</td>
<td align="center">0.05838</td>
<td align="center">0.08043</td>
<td align="center">0.1016</td>
<td align="center">0.1243</td>
</tr>
<tr class="odd">
<td align="center"><strong>10404</strong></td>
<td align="center">15578</td>
<td align="center">0.024</td>
<td align="center">0.049</td>
<td align="center">0.071</td>
<td align="center">0.093</td>
<td align="center">0.116</td>
</tr>
<tr class="even">
<td align="center"><strong>10476</strong></td>
<td align="center">118560</td>
<td align="center">0.55</td>
<td align="center">0.94</td>
<td align="center">1.19</td>
<td align="center">1.37</td>
<td align="center">1.53</td>
</tr>
<tr class="odd">
<td align="center"><strong>10477</strong></td>
<td align="center">10493</td>
<td align="center">0.8</td>
<td align="center">1.2</td>
<td align="center">1.49</td>
<td align="center">1.72</td>
<td align="center">1.95</td>
</tr>
<tr class="even">
<td align="center"><strong>10478</strong></td>
<td align="center">11666</td>
<td align="center">0.52</td>
<td align="center">0.77</td>
<td align="center">0.99</td>
<td align="center">1.19</td>
<td align="center">1.39</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="16%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">Q25</th>
<th align="center">Q30</th>
<th align="center">Q35</th>
<th align="center">Q40</th>
<th align="center">Q45</th>
<th align="center">Q50</th>
<th align="center">Q55</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>4165</strong></td>
<td align="center">2.274</td>
<td align="center">2.531</td>
<td align="center">2.796</td>
<td align="center">3.075</td>
<td align="center">3.361</td>
<td align="center">3.669</td>
<td align="center">3.999</td>
</tr>
<tr class="even">
<td align="center"><strong>4168</strong></td>
<td align="center">0.1533</td>
<td align="center">0.1794</td>
<td align="center">0.2052</td>
<td align="center">0.2305</td>
<td align="center">0.2556</td>
<td align="center">0.281</td>
<td align="center">0.3068</td>
</tr>
<tr class="odd">
<td align="center"><strong>4221</strong></td>
<td align="center">3.732</td>
<td align="center">4.113</td>
<td align="center">4.476</td>
<td align="center">4.838</td>
<td align="center">5.207</td>
<td align="center">5.575</td>
<td align="center">5.951</td>
</tr>
<tr class="even">
<td align="center"><strong>4224</strong></td>
<td align="center">0.1517</td>
<td align="center">0.1788</td>
<td align="center">0.2056</td>
<td align="center">0.2325</td>
<td align="center">0.2597</td>
<td align="center">0.2868</td>
<td align="center">0.3142</td>
</tr>
<tr class="odd">
<td align="center"><strong>4248</strong></td>
<td align="center">4.799</td>
<td align="center">5.289</td>
<td align="center">5.763</td>
<td align="center">6.229</td>
<td align="center">6.685</td>
<td align="center">7.143</td>
<td align="center">7.611</td>
</tr>
<tr class="even">
<td align="center"><strong>4251</strong></td>
<td align="center">0.1495</td>
<td align="center">0.1775</td>
<td align="center">0.2063</td>
<td align="center">0.2361</td>
<td align="center">0.2657</td>
<td align="center">0.2951</td>
<td align="center">0.3253</td>
</tr>
<tr class="odd">
<td align="center"><strong>10404</strong></td>
<td align="center">0.14</td>
<td align="center">0.164</td>
<td align="center">0.188</td>
<td align="center">0.213</td>
<td align="center">0.238</td>
<td align="center">0.263</td>
<td align="center">0.289</td>
</tr>
<tr class="even">
<td align="center"><strong>10476</strong></td>
<td align="center">1.68</td>
<td align="center">1.81</td>
<td align="center">1.96</td>
<td align="center">2.1</td>
<td align="center">2.26</td>
<td align="center">2.44</td>
<td align="center">2.63</td>
</tr>
<tr class="odd">
<td align="center"><strong>10477</strong></td>
<td align="center">2.17</td>
<td align="center">2.4</td>
<td align="center">2.64</td>
<td align="center">2.89</td>
<td align="center">3.16</td>
<td align="center">3.44</td>
<td align="center">3.75</td>
</tr>
<tr class="even">
<td align="center"><strong>10478</strong></td>
<td align="center">1.59</td>
<td align="center">1.79</td>
<td align="center">2</td>
<td align="center">2.22</td>
<td align="center">2.45</td>
<td align="center">2.71</td>
<td align="center">3.01</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="16%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">Q60</th>
<th align="center">Q65</th>
<th align="center">Q70</th>
<th align="center">Q75</th>
<th align="center">Q80</th>
<th align="center">Q85</th>
<th align="center">Q90</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>4165</strong></td>
<td align="center">4.353</td>
<td align="center">4.736</td>
<td align="center">5.155</td>
<td align="center">5.628</td>
<td align="center">6.174</td>
<td align="center">6.836</td>
<td align="center">7.701</td>
</tr>
<tr class="even">
<td align="center"><strong>4168</strong></td>
<td align="center">0.3334</td>
<td align="center">0.3613</td>
<td align="center">0.3919</td>
<td align="center">0.4253</td>
<td align="center">0.4635</td>
<td align="center">0.509</td>
<td align="center">0.5668</td>
</tr>
<tr class="odd">
<td align="center"><strong>4221</strong></td>
<td align="center">6.34</td>
<td align="center">6.757</td>
<td align="center">7.216</td>
<td align="center">7.738</td>
<td align="center">8.362</td>
<td align="center">9.123</td>
<td align="center">10.16</td>
</tr>
<tr class="even">
<td align="center"><strong>4224</strong></td>
<td align="center">0.342</td>
<td align="center">0.3711</td>
<td align="center">0.4012</td>
<td align="center">0.4341</td>
<td align="center">0.4714</td>
<td align="center">0.5148</td>
<td align="center">0.5697</td>
</tr>
<tr class="odd">
<td align="center"><strong>4248</strong></td>
<td align="center">8.09</td>
<td align="center">8.577</td>
<td align="center">9.086</td>
<td align="center">9.631</td>
<td align="center">10.23</td>
<td align="center">10.96</td>
<td align="center">11.94</td>
</tr>
<tr class="even">
<td align="center"><strong>4251</strong></td>
<td align="center">0.3567</td>
<td align="center">0.3886</td>
<td align="center">0.4227</td>
<td align="center">0.4596</td>
<td align="center">0.5006</td>
<td align="center">0.5491</td>
<td align="center">0.6111</td>
</tr>
<tr class="odd">
<td align="center"><strong>10404</strong></td>
<td align="center">0.315</td>
<td align="center">0.343</td>
<td align="center">0.373</td>
<td align="center">0.406</td>
<td align="center">0.4438</td>
<td align="center">0.49</td>
<td align="center">0.551</td>
</tr>
<tr class="even">
<td align="center"><strong>10476</strong></td>
<td align="center">2.85</td>
<td align="center">3.1</td>
<td align="center">3.38</td>
<td align="center">3.69</td>
<td align="center">4.04</td>
<td align="center">4.48</td>
<td align="center">5.06</td>
</tr>
<tr class="odd">
<td align="center"><strong>10477</strong></td>
<td align="center">4.1</td>
<td align="center">4.49</td>
<td align="center">4.93</td>
<td align="center">5.42</td>
<td align="center">6</td>
<td align="center">6.7</td>
<td align="center">7.62</td>
</tr>
<tr class="even">
<td align="center"><strong>10478</strong></td>
<td align="center">3.34</td>
<td align="center">3.73</td>
<td align="center">4.17</td>
<td align="center">4.69</td>
<td align="center">5.28</td>
<td align="center">5.98</td>
<td align="center">6.87</td>
</tr>
</tbody>
</table>
<table style="width:42%;" class="table">
<colgroup>
<col width="16%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">Q95</th>
<th align="center">Q99</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>4165</strong></td>
<td align="center">8.963</td>
<td align="center">11.3</td>
</tr>
<tr class="even">
<td align="center"><strong>4168</strong></td>
<td align="center">0.6528</td>
<td align="center">0.8272</td>
</tr>
<tr class="odd">
<td align="center"><strong>4221</strong></td>
<td align="center">11.71</td>
<td align="center">14.47</td>
</tr>
<tr class="even">
<td align="center"><strong>4224</strong></td>
<td align="center">0.6519</td>
<td align="center">0.8205</td>
</tr>
<tr class="odd">
<td align="center"><strong>4248</strong></td>
<td align="center">13.43</td>
<td align="center">16.32</td>
</tr>
<tr class="even">
<td align="center"><strong>4251</strong></td>
<td align="center">0.706</td>
<td align="center">0.9164</td>
</tr>
<tr class="odd">
<td align="center"><strong>10404</strong></td>
<td align="center">0.645</td>
<td align="center">0.852</td>
</tr>
<tr class="even">
<td align="center"><strong>10476</strong></td>
<td align="center">5.93</td>
<td align="center">7.61</td>
</tr>
<tr class="odd">
<td align="center"><strong>10477</strong></td>
<td align="center">9.01</td>
<td align="center">11.65</td>
</tr>
<tr class="even">
<td align="center"><strong>10478</strong></td>
<td align="center">8.19</td>
<td align="center">10.61</td>
</tr>
</tbody>
</table>
<p>Alternatively, a companion function amf_plot_datasummary() provides
interactive visualization to the data summary.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#### not evaluated so to reduce vignette size</span></span>
<span><span class="co">## plot data summary of USTAR for selected sites, </span></span>
<span><span class="fu"><a href="../reference/amf_plot_datasummary.html">amf_plot_datasummary</a></span><span class="op">(</span></span>
<span>  site_set <span class="op">=</span> <span class="va">crop_ls3</span><span class="op">$</span><span class="va">SITE_ID</span>,</span>
<span>  var_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USTAR"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#### not evaluated so to reduce vignette size</span></span>
<span><span class="co">## plot data summary of WS for selected sites, </span></span>
<span><span class="co">#  including clustering information</span></span>
<span><span class="fu"><a href="../reference/amf_plot_datasummary.html">amf_plot_datasummary</a></span><span class="op">(</span></span>
<span>  site_set <span class="op">=</span> <span class="va">crop_ls3</span><span class="op">$</span><span class="va">SITE_ID</span>,</span>
<span>  var_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WS"</span><span class="op">)</span>,</span>
<span>  show_cluster <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Once having a target site list, users can download these sites’ data
and metadata using the site IDs. See <a href="data_import.html">Data
import</a> for data download and import examples.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Housen Chu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
