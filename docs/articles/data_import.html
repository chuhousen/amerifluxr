<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Import • amerifluxr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Import">
<meta property="og:description" content="amerifluxr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">amerifluxr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data_import.html">Data Import</a>
    </li>
    <li>
      <a href="../articles/site_selection.html">Site selection</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/chuhousen/amerifluxr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="data_import_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data Import</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/chuhousen/amerifluxr/blob/master/vignettes/data_import.Rmd"><code>vignettes/data_import.Rmd</code></a></small>
      <div class="hidden name"><code>data_import.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/chuhousen/amerifluxr">amerifluxr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://rapporter.github.io/pander">pander</a></span><span class="op">)</span></code></pre></div>
<p>amerifluxr is a programmatic interface to the <a href="https://ameriflux.lbl.gov/">AmeriFlux</a>. This vignette demonstrates examples to import data and metadata downloaded from AmeriFlux, and to parse and clean data for further use. A companion vignette for <a href="site_selection.html">site selection</a> is available as well.</p>
<div id="download-data" class="section level2">
<h2 class="hasAnchor">
<a href="#download-data" class="anchor"></a>Download data</h2>
<p>AmeriFlux data and metadata can be downloaded using amf_download_base() and amf_download_bif(). Users will need to create a personal AmeriFlux account <a href="https://ameriflux-data.lbl.gov/Pages/RequestAccount.aspx">here</a> before download.</p>
<p>The following downloads AmeriFlux flux/met data (aka BASE data product) from a single site: US-CRT.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## When running, replace user_id and user_email with a real AmeriFlux account</span>
<span class="va">floc2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_download_base.html">amf_download_base</a></span><span class="op">(</span>
  user_id <span class="op">=</span> <span class="st">"my_user"</span>,
  user_email <span class="op">=</span> <span class="st">"my_email@mail.com"</span>,
  site_id <span class="op">=</span> <span class="st">"US-CRT"</span>,
  data_product <span class="op">=</span> <span class="st">"BASE-BADM"</span>,
  data_policy <span class="op">=</span> <span class="st">"CCBY4.0"</span>,
  intended_use <span class="op">=</span> <span class="st">"other"</span>,
  intended_use_text <span class="op">=</span> <span class="st">"amerifluxr package demonstration"</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  out_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>The downloaded file is a zipped file saved in tempdir() (e.g., AMF_{SITE_ID}_BASE-BADM_{VERSION}.zip), which contains a BASE data file (e.g., AMF_{SITE_ID}_BASE_{RESOLUTION}_{VERSION}.csv, RESOLUTION = HH (half-hourly) or HR (hourly)) and a medata file (aka BADM data product, e.g., AMF_{SITE_ID}_BIF_{VERSION}.xlsx). The amf_download_base() also returns the file path to the downloaded file, which can be used later to read the file into R.</p>
<p>The following downloads a single file containing all AmeriFlux sites’ metadata (i.e., BADM data product) for sites under the CC-BY-4.0 data use policy.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## When running, replace user_id and user_email with a real AmeriFlux account</span>
<span class="va">floc1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_download_bif.html">amf_download_bif</a></span><span class="op">(</span>
  user_id <span class="op">=</span> <span class="st">"my_user"</span>,
  user_email <span class="op">=</span> <span class="st">"my_email@mail.com"</span>,
  data_policy <span class="op">=</span> <span class="st">"CCBY4.0"</span>,
  intended_use <span class="op">=</span> <span class="st">"other"</span>,
  intended_use_text <span class="op">=</span> <span class="st">"amerifluxr package demonstration"</span>,
  out_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  site_w_data <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<p>The downloaded file is a Excel file saved to tempdir() (e.g., AMF_{SITES}_BIF_{POLICY}_{VERSION}.xlsx, SITES = AA-Net (all registered sites) or AA-Flx (all sites with flux/met data available); POLICY = CCBY4 (shared under AmeriFlux CC-BY-4.0 data use policy) or LEGACY (shared under AmeriFlux Legacy data use policy)). Similarly, the amf_download_bif() also returns the file path to the downloaded file, which can be used later to read the file into R.</p>
<p>For this vignette, we will use following example data files [files are truncated to limit package size, for demonstration purposes only].</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># An example of BASE zipped files downloaded for US-CRT site</span>
<span class="va">floc2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"AMF_US-CRT_BASE-BADM_2-5.zip"</span>, package <span class="op">=</span> <span class="st">"amerifluxr"</span><span class="op">)</span>

<span class="co"># An example of unzipped BASE files from the above zipped file</span>
<span class="va">floc3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"AMF_US-CRT_BASE_HH_2-5.csv"</span>, package <span class="op">=</span> <span class="st">"amerifluxr"</span><span class="op">)</span>

<span class="co"># An example of all sites' BADM data</span>
<span class="va">floc1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"AMF_AA-Flx_BIF_CCBY4_20201218.xlsx"</span>, package <span class="op">=</span> <span class="st">"amerifluxr"</span><span class="op">)</span></code></pre></div>
</div>
<div id="base-data-product" class="section level1">
<h1 class="hasAnchor">
<a href="#base-data-product" class="anchor"></a>BASE data product</h1>
<div id="import-data" class="section level2">
<h2 class="hasAnchor">
<a href="#import-data" class="anchor"></a>Import data</h2>
<p>The amd_read_base() imports a BASE file, either from a zipped file or an unzipped comma-separated file (.csv). The parse_timestamp parameter can be used if additional time-keeping columns (e.g., year, month, day, hour) are desired.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># read the BASE from a zip file, without additional parsed time-keeping columns</span>
<span class="va">base1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_read_base.html">amf_read_base</a></span><span class="op">(</span>
  file <span class="op">=</span> <span class="va">floc2</span>,
  unzip <span class="op">=</span> <span class="cn">TRUE</span>,
  parse_timestamp <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">base1</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="22%">
<col width="20%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="11%">
<col width="7%">
<col width="8%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="center">TIMESTAMP_START</th>
<th align="center">TIMESTAMP_END</th>
<th align="center">CO2</th>
<th align="center">H2O</th>
<th align="center">FC</th>
<th align="center">NEE_PI</th>
<th align="center">CH4</th>
<th align="center">FCH4</th>
<th align="center">H</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2.011e+11</td>
<td align="center">2.011e+11</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">2.011e+11</td>
<td align="center">2.011e+11</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">2.011e+11</td>
<td align="center">2.011e+11</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="6%">
<col width="12%">
<col width="12%">
<col width="6%">
<col width="6%">
<col width="10%">
<col width="6%">
<col width="15%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="center">LE</th>
<th align="center">G_1_1_1</th>
<th align="center">G_2_1_1</th>
<th align="center">WD</th>
<th align="center">WS</th>
<th align="center">USTAR</th>
<th align="center">ZL</th>
<th align="center">MO_LENGTH</th>
<th align="center">W_SIGMA</th>
<th align="center">V_SIGMA</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">NA</td>
<td align="center">27.45</td>
<td align="center">37.32</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">NA</td>
<td align="center">26.92</td>
<td align="center">34.11</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">NA</td>
<td align="center">33.71</td>
<td align="center">41.3</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="12%">
<col width="12%">
<col width="20%">
<col width="6%">
<col width="10%">
<col width="10%">
<col width="13%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="center">U_SIGMA</th>
<th align="center">T_SONIC</th>
<th align="center">T_SONIC_SIGMA</th>
<th align="center">PA</th>
<th align="center">RH</th>
<th align="center">TA</th>
<th align="center">TS_1_1_1</th>
<th align="center">TS_2_1_1</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">92.34</td>
<td align="center">11.18</td>
<td align="center">3.468</td>
<td align="center">3.131</td>
</tr>
<tr class="even">
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">87.63</td>
<td align="center">11.69</td>
<td align="center">3.606</td>
<td align="center">3.155</td>
</tr>
<tr class="odd">
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">83.31</td>
<td align="center">12.37</td>
<td align="center">3.727</td>
<td align="center">3.277</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col width="12%">
<col width="10%">
<col width="11%">
<col width="12%">
<col width="10%">
<col width="11%">
<col width="10%">
<col width="11%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="center">WTD</th>
<th align="center">SWC</th>
<th align="center">NETRAD</th>
<th align="center">PPFD_IN</th>
<th align="center">SW_IN</th>
<th align="center">SW_OUT</th>
<th align="center">LW_IN</th>
<th align="center">LW_OUT</th>
<th align="center">P</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">-0.9133</td>
<td align="center">45.13</td>
<td align="center">7.064</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">368.5</td>
<td align="center">360.6</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">-0.8939</td>
<td align="center">45.05</td>
<td align="center">2.375</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">365.8</td>
<td align="center">361.4</td>
<td align="center">0.254</td>
</tr>
<tr class="odd">
<td align="center">-0.8885</td>
<td align="center">45</td>
<td align="center">2.923</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">2.812</td>
<td align="center">369.7</td>
<td align="center">365.2</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># read the BASE from a csv file, with additional parsed time-keeping columns</span>
<span class="va">base2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_read_base.html">amf_read_base</a></span><span class="op">(</span>
  file <span class="op">=</span> <span class="va">floc3</span>,
  unzip <span class="op">=</span> <span class="cn">FALSE</span>,
  parse_timestamp <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">base2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="9%">
<col width="11%">
<col width="8%">
<col width="8%">
<col width="9%">
<col width="12%">
<col width="30%">
</colgroup>
<thead><tr class="header">
<th align="center">YEAR</th>
<th align="center">MONTH</th>
<th align="center">DAY</th>
<th align="center">DOY</th>
<th align="center">HOUR</th>
<th align="center">MINUTE</th>
<th align="center">TIMESTAMP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2011</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">15</td>
<td align="center">2011-01-01 00:15:00</td>
</tr>
<tr class="even">
<td align="center">2011</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">45</td>
<td align="center">2011-01-01 00:45:00</td>
</tr>
<tr class="odd">
<td align="center">2011</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">15</td>
<td align="center">2011-01-01 01:15:00</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col width="25%">
<col width="22%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="center">TIMESTAMP_START</th>
<th align="center">TIMESTAMP_END</th>
<th align="center">CO2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2.011e+11</td>
<td align="center">2.011e+11</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center">2.011e+11</td>
<td align="center">2.011e+11</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">2.011e+11</td>
<td align="center">2.011e+11</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
</div>
<div id="parse-and-interpret-data" class="section level2">
<h2 class="hasAnchor">
<a href="#parse-and-interpret-data" class="anchor"></a>Parse and interpret data</h2>
<p>The details of the BASE data product’s format and variable definitions can be found on <a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/">AmeriFlux website</a>. In short, the BASE data product contains flux, meteorological, and soil observations that are reported at regular intervals of time, generally half-hourly or hourly, for a certain time period. <strong>TIMESTAMP_START</strong> and <strong>TIMESTAMP_END</strong> columns (i.e., YYYYMMDDHHMM 12 digits) denote the starting and ending time of each reporting interval (i.e., row).</p>
<p>All other variables use the format of {base name}_{qualifier}, e.g., FC_1, CO2_1_1_1. Base names indicate fundamental quantities that are either measured or calculated / derived. Qualifiers are suffixes appended to variable base names that provide additional information (e.g., gap-filling, position) about the variable. In some cases, qualifiers are omitted if only one variable is provided for a site.</p>
<p>The amf_variable() retrieves the latest list of base names and default units. For sites that have relatively fewer variables and less complicated qualifiers, the users could easily interpret variables and qualifiers. The amf_variable() also returns the expected maximal and minimal values based on physically plausible ranges or network reported values.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get a list of latest base names and units. </span>
<span class="va">FP_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_variables.html">amf_variables</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">FP_ls</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="12%">
<col width="25%">
<col width="25%">
<col width="9%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">Name</th>
<th align="center">Units</th>
<th align="center">Min</th>
<th align="center">Max</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>11</strong></td>
<td align="center">D_SNOW</td>
<td align="center">cm</td>
<td align="center">0</td>
<td align="center">500</td>
</tr>
<tr class="even">
<td align="center"><strong>12</strong></td>
<td align="center">DBH</td>
<td align="center">cm</td>
<td align="center">0</td>
<td align="center">500</td>
</tr>
<tr class="odd">
<td align="center"><strong>13</strong></td>
<td align="center">DO</td>
<td align="center">Âµmol L-1</td>
<td align="center">0</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center"><strong>14</strong></td>
<td align="center">FAPAR</td>
<td align="center">%</td>
<td align="center">0</td>
<td align="center">100</td>
</tr>
<tr class="odd">
<td align="center"><strong>15</strong></td>
<td align="center">FC</td>
<td align="center">ÂµmolCO2 m-2 s-1</td>
<td align="center">-100</td>
<td align="center">100</td>
</tr>
<tr class="even">
<td align="center"><strong>16</strong></td>
<td align="center">FC_SSITC_TEST</td>
<td align="center">nondimensional</td>
<td align="center">0</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center"><strong>17</strong></td>
<td align="center">FCH4</td>
<td align="center">nmolCH4 m-2 s-1</td>
<td align="center">-500</td>
<td align="center">4000</td>
</tr>
<tr class="even">
<td align="center"><strong>18</strong></td>
<td align="center">FCH4_SSITC_TEST</td>
<td align="center">nondimensional</td>
<td align="center">0</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center"><strong>19</strong></td>
<td align="center">FETCH_70</td>
<td align="center">m</td>
<td align="center">0</td>
<td align="center">10000</td>
</tr>
<tr class="even">
<td align="center"><strong>20</strong></td>
<td align="center">FETCH_80</td>
<td align="center">m</td>
<td align="center">0</td>
<td align="center">12000</td>
</tr>
</tbody>
</table>
<p>Alternatively, the amf_parse_basename() can programmatically parse the the variable names into base names and qualifiers. This function can be helpful for sites with many variables and relatively complicated qualifiers, as a prerequisite for handling data from many sites. The function returns a data frame with information about each variable’s base name, qualifier, and whether a variable is gap-filled, layer-aggregated, or replicate aggregated.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># parse the variable name</span>
<span class="va">basename_decode</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_parse_basename.html">amf_parse_basename</a></span><span class="op">(</span>var_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">base1</span><span class="op">)</span><span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">basename_decode</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="12%">
<col width="24%">
<col width="24%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">variable_name</th>
<th align="center">basename</th>
<th align="center">qualifier_gf</th>
<th align="center">qualifier_pi</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>1</strong></td>
<td align="center">TIMESTAMP_START</td>
<td align="center">TIMESTAMP_START</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center"><strong>2</strong></td>
<td align="center">TIMESTAMP_END</td>
<td align="center">TIMESTAMP_END</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center"><strong>3</strong></td>
<td align="center">CO2</td>
<td align="center">CO2</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center"><strong>4</strong></td>
<td align="center">H2O</td>
<td align="center">H2O</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center"><strong>6</strong></td>
<td align="center">NEE_PI</td>
<td align="center">NEE</td>
<td align="center">NA</td>
<td align="center">_PI</td>
</tr>
<tr class="even">
<td align="center"><strong>11</strong></td>
<td align="center">G_1_1_1</td>
<td align="center">G</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center"><strong>12</strong></td>
<td align="center">G_2_1_1</td>
<td align="center">G</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="12%">
<col width="21%">
<col width="20%">
<col width="18%">
<col width="13%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">qualifier_pos</th>
<th align="center">qualifier_ag</th>
<th align="center">layer_index</th>
<th align="center">H_index</th>
<th align="center">V_index</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>1</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center"><strong>2</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center"><strong>3</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center"><strong>4</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center"><strong>6</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center"><strong>11</strong></td>
<td align="center">_1_1_1</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center"><strong>12</strong></td>
<td align="center">_2_1_1</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="10%">
<col width="12%">
<col width="26%">
<col width="19%">
<col width="15%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">R_index</th>
<th align="center">is_correct_basename</th>
<th align="center">is_pi_provide</th>
<th align="center">is_gapfill</th>
<th align="center">is_fetch</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>1</strong></td>
<td align="center">NA</td>
<td align="center">TRUE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>2</strong></td>
<td align="center">NA</td>
<td align="center">TRUE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>3</strong></td>
<td align="center">NA</td>
<td align="center">TRUE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>4</strong></td>
<td align="center">NA</td>
<td align="center">TRUE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>6</strong></td>
<td align="center">NA</td>
<td align="center">TRUE</td>
<td align="center">TRUE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>11</strong></td>
<td align="center">1</td>
<td align="center">TRUE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>12</strong></td>
<td align="center">1</td>
<td align="center">TRUE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="12%">
<col width="30%">
<col width="19%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">is_layer_aggregated</th>
<th align="center">is_layer_SD</th>
<th align="center">is_layer_number</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>1</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>2</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>3</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>4</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>6</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>11</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>12</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="12%">
<col width="34%">
<col width="24%">
<col width="29%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">is_replicate_aggregated</th>
<th align="center">is_replicate_SD</th>
<th align="center">is_replicate_number</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>1</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>2</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>3</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>4</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>6</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>11</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>12</strong></td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
<td align="center">FALSE</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col width="12%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">is_quadruplet</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>1</strong></td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>2</strong></td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>3</strong></td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>4</strong></td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="center"><strong>6</strong></td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="center"><strong>11</strong></td>
<td align="center">TRUE</td>
</tr>
<tr class="odd">
<td align="center"><strong>12</strong></td>
<td align="center">TRUE</td>
</tr>
</tbody>
</table>
</div>
<div id="data-filtering" class="section level2">
<h2 class="hasAnchor">
<a href="#data-filtering" class="anchor"></a>Data filtering</h2>
<p>While BASE data products are quality-checked before release, the data may not be filtered for all outliers. The amf_filter_base() can be use to filter the data based on the expected physically ranges (i.e., obtained through amf_variables()). By default, a ±5% buffer is applied to account for possible edge values near the lower and upper bounds, which are commonly observed for certain variables like radiation, relative humidity, and snow depth.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># filter data, using default physical range +/- 5% buffer</span>
<span class="va">base_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_filter_base.html">amf_filter_base</a></span><span class="op">(</span>data_in <span class="op">=</span> <span class="va">base1</span><span class="op">)</span></code></pre></div>
</div>
<div id="measurement-height-information" class="section level2">
<h2 class="hasAnchor">
<a href="#measurement-height-information" class="anchor"></a>Measurement height information</h2>
<p>Measurement height information contains height/depth and instrument model information of the BASE data products. The info can be downloaded directly using the amf_var_info() function. The function returns a data frame for all available sites, and can be subset using the “Site_ID” column. The “Height” column refers to the distance from the ground surface in meters. Positive values are heights, and negative values are depths. See the <a href="https://ameriflux.lbl.gov/data/measurement-height/">web page</a> for explanation.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># obtain the latest measurement height information</span>
<span class="va">var_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_var_info.html">amf_var_info</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># subset the variable by target Site ID</span>
<span class="va">var_info</span> <span class="op">&lt;-</span> <span class="va">var_info</span><span class="op">[</span><span class="va">var_info</span><span class="op">$</span><span class="va">Site_ID</span> <span class="op">==</span> <span class="st">"US-CRT"</span>, <span class="op">]</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">var_info</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="14%">
<col width="12%">
<col width="15%">
<col width="16%">
<col width="11%">
<col width="29%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">Site_ID</th>
<th align="center">Variable</th>
<th align="center">Start_Date</th>
<th align="center">Height</th>
<th align="center">Instrument_Model</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>4561</strong></td>
<td align="center">US-CRT</td>
<td align="center">CH4</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">GA_OP-LI-COR LI-7700</td>
</tr>
<tr class="even">
<td align="center"><strong>4562</strong></td>
<td align="center">US-CRT</td>
<td align="center">CO2</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">GA_OP-LI-COR LI-7500</td>
</tr>
<tr class="odd">
<td align="center"><strong>4563</strong></td>
<td align="center">US-CRT</td>
<td align="center">FC</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">GA_OP-LI-COR LI-7500</td>
</tr>
<tr class="even">
<td align="center"><strong>4564</strong></td>
<td align="center">US-CRT</td>
<td align="center">FCH4</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">GA_OP-LI-COR LI-7700</td>
</tr>
<tr class="odd">
<td align="center"><strong>4565</strong></td>
<td align="center">US-CRT</td>
<td align="center">G_1_1_1</td>
<td align="center">NA</td>
<td align="center">-0.1</td>
<td align="center">SOIL_H-Plate</td>
</tr>
<tr class="even">
<td align="center"><strong>4566</strong></td>
<td align="center">US-CRT</td>
<td align="center">H</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">SA-Campbell CSAT-3</td>
</tr>
<tr class="odd">
<td align="center"><strong>4567</strong></td>
<td align="center">US-CRT</td>
<td align="center">H2O</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">GA_OP-LI-COR LI-7500</td>
</tr>
<tr class="even">
<td align="center"><strong>4568</strong></td>
<td align="center">US-CRT</td>
<td align="center">MO_LENGTH</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center"><strong>4569</strong></td>
<td align="center">US-CRT</td>
<td align="center">LE</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">GA_OP-LI-COR LI-7500</td>
</tr>
<tr class="even">
<td align="center"><strong>4570</strong></td>
<td align="center">US-CRT</td>
<td align="center">NEE_PI</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">GA_OP-LI-COR LI-7500</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col width="15%">
<col width="29%">
<col width="13%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">Instrument_Model2</th>
<th align="center">Comment</th>
<th align="center">BASE_Version</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>4561</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="even">
<td align="center"><strong>4562</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="odd">
<td align="center"><strong>4563</strong></td>
<td align="center">SA-Campbell CSAT-3</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="even">
<td align="center"><strong>4564</strong></td>
<td align="center">SA-Campbell CSAT-3</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="odd">
<td align="center"><strong>4565</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="even">
<td align="center"><strong>4566</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="odd">
<td align="center"><strong>4567</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="even">
<td align="center"><strong>4568</strong></td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="odd">
<td align="center"><strong>4569</strong></td>
<td align="center">SA-Campbell CSAT-3</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
<tr class="even">
<td align="center"><strong>4570</strong></td>
<td align="center">SA-Campbell CSAT-3</td>
<td align="center">NA</td>
<td align="center">5-5</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="badm-data-product" class="section level1">
<h1 class="hasAnchor">
<a href="#badm-data-product" class="anchor"></a>BADM data product</h1>
<div id="import-badm-data" class="section level2">
<h2 class="hasAnchor">
<a href="#import-badm-data" class="anchor"></a>Import BADM data</h2>
<p>Biological, Ancillary, Disturbance, and Metadata (BADM) are non-continuous information that describe and complement continuous flux and meteorological data (e.g., BASE data product). BADM include general site description, metadata about the sensors and their setup, maintenance and disturbance events, and biological and ecological data that characterize a site’s ecosystem. See <a href="https://ameriflux.lbl.gov/data/badm/badm-basics/">link</a> for details.</p>
<p>The amf_read_bif() can be used to import the BADM data file. The function returns a data frame for all available sites, and can subset using the “SITE_ID” column.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># read the BADM BIF file, using an example data file</span>
<span class="va">bif</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_read_bif.html">amf_read_bif</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">floc1</span><span class="op">)</span>

<span class="co"># subset by target Site ID</span>
<span class="va">bif</span> <span class="op">&lt;-</span> <span class="va">bif</span><span class="op">[</span><span class="va">bif</span><span class="op">$</span><span class="va">SITE_ID</span> <span class="op">==</span> <span class="st">"US-CRT"</span>, <span class="op">]</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">bif</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="13%">
<col width="15%">
<col width="30%">
<col width="41%">
</colgroup>
<thead><tr class="header">
<th align="center">SITE_ID</th>
<th align="center">GROUP_ID</th>
<th align="center">VARIABLE_GROUP</th>
<th align="center">VARIABLE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">12764</td>
<td align="center">GRP_ACKNOWLEDGEMENT</td>
<td align="center">ACKNOWLEDGEMENT</td>
</tr>
<tr class="even">
<td align="center">US-CRT</td>
<td align="center">12764</td>
<td align="center">GRP_ACKNOWLEDGEMENT</td>
<td align="center">ACKNOWLEDGEMENT_COMMENT</td>
</tr>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">12765</td>
<td align="center">GRP_CLIM_AVG</td>
<td align="center">MAT</td>
</tr>
<tr class="even">
<td align="center">US-CRT</td>
<td align="center">12765</td>
<td align="center">GRP_CLIM_AVG</td>
<td align="center">MAP</td>
</tr>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">12765</td>
<td align="center">GRP_CLIM_AVG</td>
<td align="center">CLIMATE_KOEPPEN</td>
</tr>
<tr class="even">
<td align="center">US-CRT</td>
<td align="center">27000537</td>
<td align="center">GRP_COUNTRY</td>
<td align="center">COUNTRY</td>
</tr>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">15683</td>
<td align="center">GRP_DOI</td>
<td align="center">DOI</td>
</tr>
<tr class="even">
<td align="center">US-CRT</td>
<td align="center">15683</td>
<td align="center">GRP_DOI</td>
<td align="center">DOI_CITATION</td>
</tr>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">15683</td>
<td align="center">GRP_DOI</td>
<td align="center">DOI_DATAPRODUCT</td>
</tr>
<tr class="even">
<td align="center">US-CRT</td>
<td align="center">88075</td>
<td align="center">GRP_DOI_CONTRIBUTOR</td>
<td align="center">DOI_CONTRIBUTOR_DATAPRODUCT</td>
</tr>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">88075</td>
<td align="center">GRP_DOI_CONTRIBUTOR</td>
<td align="center">DOI_CONTRIBUTOR_NAME</td>
</tr>
<tr class="even">
<td align="center">US-CRT</td>
<td align="center">88075</td>
<td align="center">GRP_DOI_CONTRIBUTOR</td>
<td align="center">DOI_CONTRIBUTOR_ROLE</td>
</tr>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">88075</td>
<td align="center">GRP_DOI_CONTRIBUTOR</td>
<td align="center">DOI_CONTRIBUTOR_ORDINAL</td>
</tr>
<tr class="even">
<td align="center">US-CRT</td>
<td align="center">88075</td>
<td align="center">GRP_DOI_CONTRIBUTOR</td>
<td align="center">DOI_CONTRIBUTOR_EMAIL</td>
</tr>
<tr class="odd">
<td align="center">US-CRT</td>
<td align="center">88075</td>
<td align="center">GRP_DOI_CONTRIBUTOR</td>
<td align="center">DOI_CONTRIBUTOR_INSTITUTION</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup><col width="54%"></colgroup>
<thead><tr class="header">
<th align="center">DATAVALUE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">Supported by NOAA (NA10OAR4170224) &amp; NSF (NSF1034791)</td>
</tr>
<tr class="even">
<td align="center">Acknowledgement Walter Berger for fully support</td>
</tr>
<tr class="odd">
<td align="center">10.1</td>
</tr>
<tr class="even">
<td align="center">849</td>
</tr>
<tr class="odd">
<td align="center">Dfa</td>
</tr>
<tr class="even">
<td align="center">USA</td>
</tr>
<tr class="odd">
<td align="center">10.17190/AMF/1246156</td>
</tr>
<tr class="even">
<td align="center">Jiquan Chen, Housen Chu (2011-2013) AmeriFlux US-CRT Curtice Walter-Berger cropland, Dataset. <a href="https://doi.org/10.17190/AMF/1246156" class="uri">https://doi.org/10.17190/AMF/1246156</a>
</td>
</tr>
<tr class="odd">
<td align="center">AmeriFlux</td>
</tr>
<tr class="even">
<td align="center">AmeriFlux</td>
</tr>
<tr class="odd">
<td align="center">Jiquan Chen</td>
</tr>
<tr class="even">
<td align="center">Author</td>
</tr>
<tr class="odd">
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center"><a href="mailto:jqchen@msu.edu" class="email">jqchen@msu.edu</a></td>
</tr>
<tr class="odd">
<td align="center">University of Toledo / Michigan State University</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># get a list of all BADM variable groups and variables</span>
<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">bif</span><span class="op">$</span><span class="va">VARIABLE_GROUP</span><span class="op">)</span></code></pre></div>
<p>[1] “GRP_ACKNOWLEDGEMENT” “GRP_CLIM_AVG” “GRP_COUNTRY”<br>
[4] “GRP_DOI” “GRP_DOI_CONTRIBUTOR” “GRP_DOI_ORGANIZATION” [7] “GRP_DOM_DIST_MGMT” “GRP_FLUX_MEASUREMENTS” “GRP_HEADER”<br>
[10] “GRP_HEIGHTC” “GRP_IGBP” “GRP_LAND_OWNERSHIP”<br>
[13] “GRP_LOCATION” “GRP_NETWORK” “GRP_REFERENCE_PAPER”<br>
[16] “GRP_SHIPPING_ADDRESS” “GRP_SITE_CHAR” “GRP_SITE_DESC”<br>
[19] “GRP_SITE_FUNDING” “GRP_STATE” “GRP_TEAM_MEMBER”<br>
[22] “GRP_TOWER_POWER” “GRP_TOWER_TYPE” “GRP_URL”<br>
[25] “GRP_URL_AMERIFLUX” “GRP_UTC_OFFSET”</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">bif</span><span class="op">$</span><span class="va">VARIABLE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>[1] 59</p>
<p>As shown above, BADM data contain information from a variety of variable groups (i.e., GRP_{BADM_GROUPS}). Browse the definitions of all available variable groups <a href="https://ameriflux.lbl.gov/data/badm/badm-standards/">here</a>.</p>
<p>To get the BADM data for a certain variable group, use amf_extract_badm() function. The function also renders the data format (i.e., display all variables by columns) for human readability.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># extract the FLUX_MEASUREMENTS group</span>
<span class="va">bif_flux</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_extract_badm.html">amf_extract_badm</a></span><span class="op">(</span>bif_data <span class="op">=</span> <span class="va">bif</span>, select_group <span class="op">=</span> <span class="st">"GRP_FLUX_MEASUREMENTS"</span><span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">bif_flux</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="14%">
<col width="12%">
<col width="35%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th align="center">GROUP_ID</th>
<th align="center">SITE_ID</th>
<th align="center">FLUX_MEASUREMENTS_METHOD</th>
<th align="center">FLUX_MEASUREMENTS_VARIABLE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">12767</td>
<td align="center">US-CRT</td>
<td align="center">Eddy Covariance</td>
<td align="center">CO2</td>
</tr>
<tr class="even">
<td align="center">12782</td>
<td align="center">US-CRT</td>
<td align="center">Eddy Covariance</td>
<td align="center">H2O</td>
</tr>
<tr class="odd">
<td align="center">12786</td>
<td align="center">US-CRT</td>
<td align="center">Eddy Covariance</td>
<td align="center">H</td>
</tr>
<tr class="even">
<td align="center">12787</td>
<td align="center">US-CRT</td>
<td align="center">Eddy Covariance</td>
<td align="center">CH4</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="43%">
<col width="43%">
</colgroup>
<thead><tr class="header">
<th align="center">FLUX_MEASUREMENTS_DATE_START</th>
<th align="center">FLUX_MEASUREMENTS_DATE_END</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">20110101</td>
<td align="center">20131231</td>
</tr>
<tr class="even">
<td align="center">20110101</td>
<td align="center">20131231</td>
</tr>
<tr class="odd">
<td align="center">20110101</td>
<td align="center">20131231</td>
</tr>
<tr class="even">
<td align="center">20110511</td>
<td align="center">20120520</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup><col width="43%"></colgroup>
<thead><tr class="header">
<th align="center">FLUX_MEASUREMENTS_OPERATIONS</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">Continuous operation</td>
</tr>
<tr class="even">
<td align="center">Continuous operation</td>
</tr>
<tr class="odd">
<td align="center">Continuous operation</td>
</tr>
<tr class="even">
<td align="center">Continuous operation</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># extract the HEIGHTC (canopy height) group</span>
<span class="va">bif_hc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_extract_badm.html">amf_extract_badm</a></span><span class="op">(</span>bif_data <span class="op">=</span> <span class="va">bif</span>, select_group <span class="op">=</span> <span class="st">"GRP_HEIGHTC"</span><span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">bif_hc</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="13%">
<col width="13%">
<col width="27%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center">GROUP_ID</th>
<th align="center">SITE_ID</th>
<th align="center">HEIGHTC</th>
<th align="center">HEIGHTC_STATISTIC</th>
<th align="center">HEIGHTC_DATE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">88202</td>
<td align="center">US-CRT</td>
<td align="center">0.12</td>
<td align="center">Mean</td>
<td align="center">20121121</td>
</tr>
<tr class="even">
<td align="center">88203</td>
<td align="center">US-CRT</td>
<td align="center">1.125</td>
<td align="center">Mean</td>
<td align="center">20120928</td>
</tr>
<tr class="odd">
<td align="center">88204</td>
<td align="center">US-CRT</td>
<td align="center">0.375</td>
<td align="center">Mean</td>
<td align="center">20120627</td>
</tr>
<tr class="even">
<td align="center">88205</td>
<td align="center">US-CRT</td>
<td align="center">0</td>
<td align="center">Mean</td>
<td align="center">20121002</td>
</tr>
<tr class="odd">
<td align="center">88206</td>
<td align="center">US-CRT</td>
<td align="center">0.52</td>
<td align="center">Mean</td>
<td align="center">20130515</td>
</tr>
<tr class="even">
<td align="center">88207</td>
<td align="center">US-CRT</td>
<td align="center">0.15</td>
<td align="center">Mean</td>
<td align="center">20110705</td>
</tr>
<tr class="odd">
<td align="center">88208</td>
<td align="center">US-CRT</td>
<td align="center">0</td>
<td align="center">Mean</td>
<td align="center">20121001</td>
</tr>
<tr class="even">
<td align="center">88209</td>
<td align="center">US-CRT</td>
<td align="center">0</td>
<td align="center">Mean</td>
<td align="center">20111024</td>
</tr>
<tr class="odd">
<td align="center">88210</td>
<td align="center">US-CRT</td>
<td align="center">1.14</td>
<td align="center">Mean</td>
<td align="center">20130703</td>
</tr>
<tr class="even">
<td align="center">88211</td>
<td align="center">US-CRT</td>
<td align="center">0.35</td>
<td align="center">Mean</td>
<td align="center">20130716</td>
</tr>
<tr class="odd">
<td align="center">88212</td>
<td align="center">US-CRT</td>
<td align="center">0.45</td>
<td align="center">Mean</td>
<td align="center">20110726</td>
</tr>
<tr class="even">
<td align="center">88213</td>
<td align="center">US-CRT</td>
<td align="center">0.975</td>
<td align="center">Mean</td>
<td align="center">20110819</td>
</tr>
<tr class="odd">
<td align="center">88214</td>
<td align="center">US-CRT</td>
<td align="center">0</td>
<td align="center">Mean</td>
<td align="center">20120520</td>
</tr>
<tr class="even">
<td align="center">88215</td>
<td align="center">US-CRT</td>
<td align="center">0.975</td>
<td align="center">Mean</td>
<td align="center">20120820</td>
</tr>
<tr class="odd">
<td align="center">88216</td>
<td align="center">US-CRT</td>
<td align="center">0.18</td>
<td align="center">Mean</td>
<td align="center">20121214</td>
</tr>
<tr class="even">
<td align="center">88217</td>
<td align="center">US-CRT</td>
<td align="center">0.18</td>
<td align="center">Mean</td>
<td align="center">20130104</td>
</tr>
<tr class="odd">
<td align="center">88218</td>
<td align="center">US-CRT</td>
<td align="center">0.675</td>
<td align="center">Mean</td>
<td align="center">20110810</td>
</tr>
<tr class="even">
<td align="center">88219</td>
<td align="center">US-CRT</td>
<td align="center">0.72</td>
<td align="center">Mean</td>
<td align="center">20130605</td>
</tr>
<tr class="odd">
<td align="center">88220</td>
<td align="center">US-CRT</td>
<td align="center">1.125</td>
<td align="center">Mean</td>
<td align="center">20120912</td>
</tr>
<tr class="even">
<td align="center">88221</td>
<td align="center">US-CRT</td>
<td align="center">0.3</td>
<td align="center">Mean</td>
<td align="center">20130422</td>
</tr>
<tr class="odd">
<td align="center">88222</td>
<td align="center">US-CRT</td>
<td align="center">0.075</td>
<td align="center">Mean</td>
<td align="center">20110617</td>
</tr>
<tr class="even">
<td align="center">88223</td>
<td align="center">US-CRT</td>
<td align="center">0.18</td>
<td align="center">Mean</td>
<td align="center">20130212</td>
</tr>
<tr class="odd">
<td align="center">88224</td>
<td align="center">US-CRT</td>
<td align="center">0.18</td>
<td align="center">Mean</td>
<td align="center">20130319</td>
</tr>
<tr class="even">
<td align="center">88225</td>
<td align="center">US-CRT</td>
<td align="center">0.225</td>
<td align="center">Mean</td>
<td align="center">20120612</td>
</tr>
<tr class="odd">
<td align="center">88226</td>
<td align="center">US-CRT</td>
<td align="center">1</td>
<td align="center">Mean</td>
<td align="center">20130620</td>
</tr>
<tr class="even">
<td align="center">88227</td>
<td align="center">US-CRT</td>
<td align="center">1.125</td>
<td align="center">Mean</td>
<td align="center">20111007</td>
</tr>
<tr class="odd">
<td align="center">88228</td>
<td align="center">US-CRT</td>
<td align="center">0.3</td>
<td align="center">Mean</td>
<td align="center">20130816</td>
</tr>
<tr class="even">
<td align="center">88229</td>
<td align="center">US-CRT</td>
<td align="center">0.35</td>
<td align="center">Mean</td>
<td align="center">20130725</td>
</tr>
<tr class="odd">
<td align="center">88230</td>
<td align="center">US-CRT</td>
<td align="center">0.525</td>
<td align="center">Mean</td>
<td align="center">20120720</td>
</tr>
<tr class="even">
<td align="center">88231</td>
<td align="center">US-CRT</td>
<td align="center">0.18</td>
<td align="center">Mean</td>
<td align="center">20130124</td>
</tr>
<tr class="odd">
<td align="center">88232</td>
<td align="center">US-CRT</td>
<td align="center">0</td>
<td align="center">Mean</td>
<td align="center">20110611</td>
</tr>
<tr class="even">
<td align="center">88233</td>
<td align="center">US-CRT</td>
<td align="center">0.06</td>
<td align="center">Mean</td>
<td align="center">20121022</td>
</tr>
</tbody>
</table>
<p>Note: amf_extract_badm() returns all columns in characters. Certain groups of BADM variables contain columns of time stamps (i.e., ISO format) and data values, and need to be converted before further use.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># convert HEIGHTC_DATE to POSIXlt</span>
<span class="va">bif_hc</span><span class="op">$</span><span class="va">TIMESTAMP</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span><span class="op">(</span><span class="va">bif_hc</span><span class="op">$</span><span class="va">HEIGHTC_DATE</span>, format <span class="op">=</span> <span class="st">"%Y%m%d"</span>, tz <span class="op">=</span> <span class="st">"GMT"</span><span class="op">)</span>

<span class="co"># convert HEIGHTC column to numeric</span>
<span class="va">bif_hc</span><span class="op">$</span><span class="va">HEIGHTC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">bif_hc</span><span class="op">$</span><span class="va">HEIGHTC</span><span class="op">)</span>

<span class="co"># plot time series of canopy height</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">bif_hc</span><span class="op">$</span><span class="va">TIMESTAMP</span>, <span class="va">bif_hc</span><span class="op">$</span><span class="va">HEIGHTC</span>, xlab <span class="op">=</span> <span class="st">"TIMESTAMP"</span>, ylab <span class="op">=</span> <span class="st">"canopy height (m)"</span><span class="op">)</span></code></pre></div>
<p><img src="data_import_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
<p>Last, the contacts of the site members and data DOI can be obtained from the BADM data. The AmeriFlux <a href="https://ameriflux.lbl.gov/data/data-policy/">data policy</a> requires proper attribution (e.g., data DOI).</p>
<p>In some case, for example, using data shared under Legacy Data Policy for publication, data users are required to contact data contributors directly, so that they have the opportunity to contribute substantively and become a co-author.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get a list of contacts</span>
<span class="va">bif_contact</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_extract_badm.html">amf_extract_badm</a></span><span class="op">(</span>bif_data <span class="op">=</span> <span class="va">bif</span>, select_group <span class="op">=</span> <span class="st">"GRP_TEAM_MEMBER"</span><span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">bif_contact</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="15%">
<col width="13%">
<col width="26%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="center">GROUP_ID</th>
<th align="center">SITE_ID</th>
<th align="center">TEAM_MEMBER_NAME</th>
<th align="center">TEAM_MEMBER_ROLE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">12777</td>
<td align="center">US-CRT</td>
<td align="center">Housen Chu</td>
<td align="center">FluxContact</td>
</tr>
<tr class="even">
<td align="center">12784</td>
<td align="center">US-CRT</td>
<td align="center">Jiquan Chen</td>
<td align="center">PI</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col width="28%">
<col width="34%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th align="center">TEAM_MEMBER_EMAIL</th>
<th align="center">TEAM_MEMBER_INSTITUTION</th>
<th align="center">TEAM_MEMBER_ADDRESS</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><a href="mailto:chu.housen@gmail.com" class="email">chu.housen@gmail.com</a></td>
<td align="center">University of Toledo / University of California, Berkeley</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="center"><a href="mailto:jqchen@msu.edu" class="email">jqchen@msu.edu</a></td>
<td align="center">University of Toledo / Michigan State University</td>
<td align="center">202 Manly Miles Bldg. 1405 South Harrison Road Michigan State University, East Lansing, MI 48823</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># get data DOI</span>
<span class="va">bif_doi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/amf_extract_badm.html">amf_extract_badm</a></span><span class="op">(</span>bif_data <span class="op">=</span> <span class="va">bif</span>, select_group <span class="op">=</span> <span class="st">"GRP_DOI"</span><span class="op">)</span>
<span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pandoc.table.return.html">pandoc.table</a></span><span class="op">(</span><span class="va">bif_doi</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>Table continues below</caption>
<colgroup>
<col width="15%">
<col width="13%">
<col width="31%">
</colgroup>
<thead><tr class="header">
<th align="center">GROUP_ID</th>
<th align="center">SITE_ID</th>
<th align="center">DOI</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">15683</td>
<td align="center">US-CRT</td>
<td align="center">10.17190/AMF/1246156</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="54%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="center">DOI_CITATION</th>
<th align="center">DOI_DATAPRODUCT</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">Jiquan Chen, Housen Chu (2011-2013) AmeriFlux US-CRT Curtice Walter-Berger cropland, Dataset. <a href="https://doi.org/10.17190/AMF/1246156" class="uri">https://doi.org/10.17190/AMF/1246156</a>
</td>
<td align="center">AmeriFlux</td>
</tr></tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Housen Chu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
